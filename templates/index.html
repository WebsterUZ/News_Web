{% extends 'base.html' %}
{% block title %}Bosh Sahifa{% endblock %}

{% block content %}
  <div class="categories">
    <h2>Kategoriyalar</h2>
    <ul>
      {% for category in categories %}
        <li>
          <a href="{% url 'category_view' category.id %}">
            {{ category.name }} <span>({{ category.news.count }})</span>
          </a>
        </li>
      {% endfor %}
    </ul>
  </div>

  <h2>Soâ€˜nggi Yangiliklar</h2>
  <div class="article-grid" style="display:grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap:1rem;">
    {% for item in lates_news %}
    <div class="article" style="border: 1px solid #ddd; padding: 1rem;">
      {% if item.image %}
        <img src="{{ item.image.url }}" alt="{{ item.title }}" style="max-width:100%; height:auto;">
      {% endif %}
      <h3>{{ item.title }}</h3>
      <p>{{ item.content|truncatewords:20 }}</p>
      <a href="{% url 'news_detail' item.id %}">Batafsil</a>
    </div>
    {% endfor %}
  </div>
{% endblock %}
